{"ast":null,"code":"var _jsxFileName = \"/home/player/vscode/MERN/pagination/frontend/src/components/userList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport ReactPaginate from 'react-paginate';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserList = () => {\n  _s();\n\n  const [users, setUsers] = useState([]);\n  const [page, setPage] = useState(0);\n  const [limit, setLimits] = useState(10);\n  const [pages, setPages] = useState(0);\n  const [rows, setRows] = useState(0);\n  const [keyword, setKeywords] = useState(\"\");\n  const [query, setQuery] = useState(\"\"); // use effect for render react app\n\n  useEffect(() => {\n    getUsers();\n  }, [page, keyword]); // hit api with axios\n\n  const getUsers = async () => {\n    const response = await axios.get(`http://localhost:3030/users?search=${keyword}&page=${page}&limit=${limit}`);\n    setUsers(response.data.datas);\n    setPage(response.data.page);\n    setPages(response.data.totalPages);\n    setRows(response.data.totalRows); // console.log(response.data.datas);\n  };\n\n  const changePage = _ref => {\n    let {\n      selected\n    } = _ref;\n    setPage(selected);\n  };\n\n  const searchData = e => {\n    e.preventDefault();\n    setPage(0);\n    setKeywords(query);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"columns\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"column is-centered\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: searchData,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field has-addons\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"control is-expanded\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"input\",\n                placeholder: \"Find Something here\",\n                value: query,\n                onChange: e => setQuery(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 46,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"control\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"button is-info\",\n                children: \"Search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table is-striped is-bordered is-fullwidth mt-2\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Gender\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: users.map(u => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: u.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: u.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: u.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: u.gender\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 29\n              }, this)]\n            }, u.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 25\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Total Rows :\", rows, \" Page :\", rows ? page + 1 : 0, \" of \", pages]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n          className: \"pagination is-centered\",\n          role: \"navigation\",\n          \"aria-label\": \"pagination\",\n          children: /*#__PURE__*/_jsxDEV(ReactPaginate, {\n            previousLabel: \"< Prev\",\n            nextLabel: \"Next >\",\n            pageCount: Math.min(10, pages),\n            onPageChange: changePage,\n            containerClassName: \"pagination-list\",\n            pageLinkClassName: \"pagination-link\",\n            previousLinkClassName: \"pagination-previous\",\n            nextLinkClassName: \"pagination-next\",\n            activeLinkClassName: \"pagination-link is-current\",\n            disabledLinkClassName: \"pagination-link is-disabled\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 21\n          }, this)\n        }, rows, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UserList, \"vcTwcpkCAdAa3F3Jd2J09Vmdp4M=\");\n\n_c = UserList;\nexport default UserList;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserList\");","map":{"version":3,"names":["React","useState","useEffect","axios","ReactPaginate","UserList","users","setUsers","page","setPage","limit","setLimits","pages","setPages","rows","setRows","keyword","setKeywords","query","setQuery","getUsers","response","get","data","datas","totalPages","totalRows","changePage","selected","searchData","e","preventDefault","target","value","map","u","id","name","email","gender","Math","min"],"sources":["/home/player/vscode/MERN/pagination/frontend/src/components/userList.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\nimport axios from 'axios'\nimport ReactPaginate from 'react-paginate'\n\nconst UserList = () => {\n    const [users, setUsers] = useState([]);\n    const [page, setPage] = useState(0);\n    const [limit, setLimits] = useState(10);\n    const [pages, setPages] = useState(0);\n    const [rows, setRows] = useState(0);\n    const [keyword, setKeywords] = useState(\"\");\n    const [query, setQuery] = useState(\"\");\n\n    // use effect for render react app\n    useEffect(() => {\n        getUsers();\n    },[page, keyword]);\n\n    // hit api with axios\n    const getUsers = async() => {\n        const response = await axios.get(`http://localhost:3030/users?search=${keyword}&page=${page}&limit=${limit}`);\n        setUsers(response.data.datas);\n        setPage(response.data.page);\n        setPages(response.data.totalPages);\n        setRows(response.data.totalRows);\n        // console.log(response.data.datas);\n    };\n\n    const changePage = ({ selected }) => {\n        setPage(selected);\n    };\n\n    const searchData = (e) => {\n        e.preventDefault();\n        setPage(0);\n        setKeywords(query);\n    };\n\n  return (\n    <div className=\"container mt-5\">\n        <div className=\"columns\">\n            <div className=\"column is-centered\"> {/* column centered start */}\n                <form onSubmit={searchData}>\n                    <div className=\"field has-addons\">\n                        <div className=\"control is-expanded\">\n                            <input type=\"text\" className=\"input\" placeholder=\"Find Something here\" \n                            value={query}\n                            onChange={(e) => setQuery(e.target.value)}\n                            />\n                        </div>\n                        <div className=\"control\">\n                            <button type=\"submit\" className=\"button is-info\">Search</button>\n                        </div>\n                    </div>\n                </form>\n            <table className=\"table is-striped is-bordered is-fullwidth mt-2\"> {/* table start */}\n                <thead>\n                    <tr>\n                        <th>ID</th>\n                        <th>Name</th>\n                        <th>Email</th>\n                        <th>Gender</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {users.map((u) => (\n                        <tr key={u.id}>\n                            <td>{u.id}</td>\n                            <td>{u.name}</td>\n                            <td>{u.email}</td>\n                            <td>{u.gender}</td>\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n            <p>Total Rows :{rows} Page :{rows ? page + 1 : 0} of {pages}</p>\n            <nav className=\"pagination is-centered\" \n                 role=\"navigation\"\n                 aria-label=\"pagination\"\n                 key={rows}\n                 >\n                    <ReactPaginate\n                        previousLabel={\"< Prev\"}\n                        nextLabel={\"Next >\"}\n                        pageCount={Math.min(10, pages)}\n                        onPageChange={changePage}\n                        containerClassName={\"pagination-list\"}\n                        pageLinkClassName={\"pagination-link\"}\n                        previousLinkClassName={\"pagination-previous\"}\n                        nextLinkClassName={\"pagination-next\"}\n                        activeLinkClassName={\"pagination-link is-current\"}\n                        disabledLinkClassName={\"pagination-link is-disabled\"}\n                    />\n            </nav>\n            </div> {/* column centered end */}\n        </div>\n    </div>\n  )\n}\n\nexport default UserList"],"mappings":"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"},"metadata":{},"sourceType":"module"}